<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TechCareerMatch - Smart IT Job Finder</title>


    <!-- Favicon -->
    <link rel="icon" type="image/png" href="favicon.png" />

    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />

    <!-- Main stylesheet -->
    <link rel="stylesheet" href="css/styles.css" />

    <!-- Responsive stylesheet -->
    <link rel="stylesheet" href="css/responsive.css" />

    <link rel="stylesheet" href="css/resume-upload.css" />

    <link rel="stylesheet" href="css/job-market-dashboard.css" />

    <!-- Chart.js for data visualization -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.0/dist/chart.min.js"></script>

    <!-- PapaParse for CSV parsing -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.1/papaparse.min.js"></script>

    <!-- LocalForage for client-side storage -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/localforage/1.10.0/localforage.min.js"></script>

    <!-- Add these before the closing </head> tag -->
    <link rel="stylesheet" href="css/skill-analysis-dashboard.css" />
</head>

<body>
    <!-- Header Section -->
    <header>
        <div class="logo">
            <i class="fas fa-laptop-code"></i>
            <h1>TechCareerMatch</h1>
        </div>

        <nav>
            <div class="nav-item active" data-content="dashboard">
                <i class="fas fa-code"></i> Home
            </div>
            <div class="nav-item" data-content="jobs">
                <i class="fas fa-briefcase"></i> Jobs
            </div>
            <div class="nav-item" data-content="skills">
                <i class="fas fa-chart-bar"></i>  Dashboard
            </div>
            <div class="nav-item" data-content="roadmap">
                <i class="fas fa-map-signs"></i> Career Roadmap
            </div>
            <div class="nav-item" data-content="profile">
                <i class="fas fa-user"></i> Profile
            </div>
            <div class="nav-item">
                <a href="login.html"><i class="fas fa-sign-in-alt"></i> Login</a>
            </div>
        </nav>

        <div class="user-menu">
            <span id="user-display-name">Guest</span>
        </div>
    </header>

    <div class="container">
        <!-- Dashboard Content -->
        <div id="dashboard-content" class="content active">
            <!-- Updated Welcome Banner with welcome text on left and resume upload + button on right -->
            <div class="welcome-banner">
                <div class="welcome-left">
                    <h2>Welcome, <span id="user-name">IT Professional</span>!</h2>
                    <p>
                        Complete your profile or upload your resume to get personalized
                        job matches and career insights.
                    </p>
                </div>

                <div class="welcome-right">
                    <button id="upload-resume-btn" class="btn btn-light">
                        <i class="fas fa-file-upload"></i> Upload Resume
                    </button>
                    <input type="file" id="resume-upload-input" accept=".pdf,.doc,.docx" style="display: none" />

                    <button id="update-profile-btn" class="btn btn-primary">
                        <i class="fas fa-user-edit"></i> Update Your Profile
                    </button>

                    <div id="resume-status" class="resume-status"></div>
                </div>
            </div>

            <!-- Dashboard Metrics -->
            <div class="section-header">
                <h2>Key Metrics</h2>
                <div class="action-buttons">
                    <button id="refresh-data-btn" class="update-btn">
                        <i class="fas fa-sync-alt"></i> Refresh Data
                    </button>
                </div>
            </div>

            <div class="metrics-container">
                <div class="metric-card">
                    <div class="metric-icon" style="background-color: rgba(52, 152, 219, 0.1); color: #3498db">
                        <i class="fas fa-percentage"></i>
                    </div>
                    <div class="metric-body">
                        <div class="metric-value" id="match-percentages">75%</div>
                        <div class="metric-label">Top Match Score</div>
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-icon" style="background-color: rgba(46, 204, 113, 0.1); color: #2ecc71">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="metric-body">
                        <div class="metric-value" id="skills-counts">8</div>
                        <div class="metric-label">Annual Growth For Your Role</div>
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-icon" style="background-color: rgba(155, 89, 182, 0.1); color: #9b59b6">
                        <i class="fas fa-code"></i>
                    </div>
                    <div class="metric-body">
                        <div class="metric-value" id="market-demands">82/100</div>
                        <div class="metric-label">Profile Score</div>
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-icon" style="background-color: rgba(243, 156, 18, 0.1); color: #f39c12">
                        <i class="fas fa-dollar-sign"></i>
                    </div>
                    <div class="metric-body">
                        <div class="metric-value" id="salary-potentials">$95,000</div>
                        <div class="metric-label">Salary Potential</div>
                    </div>
                </div>
            </div>

            <!-- Top Job Matches -->
            <div class="section-header">
                <h2>Latest Job Postings</h2>
                <a href="#" class="view-all" data-nav="jobs"><i class="fas fa-arrow-right"></i> View All Matches</a>
            </div>

            <div class="jobs-grid" id="top-jobs-container">
                <!-- Job cards will be populated here -->
            </div>

            <!-- Charts -->
            <div class="section-header">
                <h2>Market Insights</h2>
            </div>

            <div class="charts-container">
                <div class="chart-card">
                    <div class="chart-header">In-Demand Skills</div>
                    <div class="chart-body">
                        <canvas id="skills-chart"></canvas>
                    </div>
                </div>

                <div class="chart-card">
                    <div class="chart-header">Salary by Role</div>
                    <div class="chart-body">
                        <canvas id="salary-chart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Career Insights -->
            <div class="section-header">
                <h2>Career Insights</h2>
            </div>

            <div class="insights-container">
                <div class="insight-card">
                    <div class="insight-icon">
                        <i class="fas fa-lightbulb"></i>
                    </div>
                    <div class="insight-content">
                        <h4>Skill Gap Analysis</h4>
                        <p id="skill-gap-insight">
                            Complete your profile to see skill gap insights.
                        </p>
                        <a href="#" class="insight-action" data-nav="skills"><i class="fas fa-arrow-right"></i> View
                            Skill Analysis</a>
                    </div>
                </div>

                <div class="insight-card">
                    <div class="insight-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="insight-content">
                        <h4>Market Trends</h4>
                        <p id="market-trends-insight">
                            Complete your profile to see market trend insights.
                        </p>
                        <a href="#" class="insight-action" data-nav="roadmap"><i class="fas fa-arrow-right"></i> View
                            Career Roadmap</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Job Matches Content -->
        <div id="jobs-content" class="content">
            <div class="section-header">
                <h2>Job Matches</h2>
                <div id="new-matches-count" class="match-badge">12 job matches</div>
            </div>

            <div class="search-filters">
                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" id="job-search-input" placeholder="Search for jobs, companies, or skills..." />
                </div>

                <div class="filters">
                    <div class="filter-group">
                        <label for="role-filter">Role</label>
                        <select id="role-filter">
                            <option value="all">All Roles</option>
                            <option value="Full Stack Developer">Full Stack Developer</option>
                            <option value="Frontend Developer">Frontend Developer</option>
                            <option value="Backend Developer">Backend Developer</option>
                            <option value="Data Scientist">Data Scientist</option>
                            <option value="DevOps Engineer">DevOps Engineer</option>
                            <option value="Mobile Developer">Mobile App Developer</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label for="location-filter">Location</label>
                        <select id="location-filter">
                            <option value="all">All Locations</option>
                            <option value="Remote">Remote</option>
                            <option value="Hybrid">Hybrid</option>
                            <option value="On-site">On-site</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label for="experience-filter">Experience</label>
                        <select id="experience-filter">
                            <option value="all">Any Experience</option>
                            <option value="0-2">0-2 years</option>
                            <option value="2-5">2-5 years</option>
                            <option value="5-8">5-8 years</option>
                            <option value="8+">8+ years</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label for="salary-filter">Salary Range</label>
                        <select id="salary-filter">
                            <option value="all">Any Salary</option>
                            <option value="0-50000">Up to $50,000</option>
                            <option value="50000-80000">$50,000 - $80,000</option>
                            <option value="80000-120000">$80,000 - $120,000</option>
                            <option value="120000+">$120,000+</option>
                        </select>
                    </div>

                    <button id="apply-filters-btn" class="filter-button">
                        <i class="fas fa-filter"></i> Apply Filters
                    </button>
                </div>
            </div>

            <div class="job-results">
                <div id="all-jobs-container">
                    <!-- Job cards will be populated here -->
                </div>

                <div class="pagination-container">
                    <button id="prev-page" class="pagination-btn" disabled>
                        <i class="fas fa-chevron-left"></i> Previous
                    </button>
                    <div id="page-indicator">Page 1 of 1</div>
                    <button id="next-page" class="pagination-btn" disabled>
                        Next <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Skill Analysis Content -->
        <!-- Updated Skills Content for index.html -->
        <!-- Replace entire <div id="skills-content" class="content"> -->
            
            <!-- Skill Analysis Content -->
        <div id="skills-content" class="content">
            <h1 style="color: #3498db;">Job Market Analysis Dashboard</h1>
                
                <div class="filters">
                    <input type="file" id="fileInput" accept=".csv">
                    <select id="roleFilter">
                        <option value="">All Roles</option>
                    </select>
                    <select id="stateFilter">
                        <option value="">All States</option>
                    </select>
                    <select id="experienceFilter">
                        <option value="">All Experience</option>
                        <option value="0-3">0-3 Years</option>
                        <option value="3-6">3-6 Years</option>
                        <option value="6-10">6-10 Years</option>
                        <option value="10+">10+ Years</option>
                    </select>
                </div>
            
                <div class="dashboard">
                    <!-- KPI Cards -->
                    <div class="card">
                        <div class="kpi">
                            <div class="kpi-value" id="totalJobs">0</div>
                            <div class="kpi-label">Total Jobs</div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="kpi">
                            <div class="kpi-value" id="avgSalary">$0</div>
                            <div class="kpi-label">Average Salary</div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="kpi">
                            <div class="kpi-value" id="avgExperience">0</div>
                            <div class="kpi-label">Avg Experience (Years)</div>
                        </div>
                    </div>
            
                    <!-- Salary by Role Chart -->
                    <div class="card card-large">
                        <h2>Salary by Role</h2>
                        <canvas id="salaryByRoleChart"></canvas>
                    </div>
            
                    <!-- Top Skills Chart -->
                    <div class="card">
                        <h2>Top Skills</h2>
                        <canvas id="topSkillsChart"></canvas>
                    </div>
            
                    <!-- Experience vs Salary Scatter -->
                    <div class="card card-large">
                        <h2>Experience vs Salary</h2>
                        <canvas id="experienceVsSalaryChart"></canvas>
                    </div>
            
                    <!-- Jobs by State -->
                    <div class="card">
                        <h2>Jobs by State</h2>
                        <canvas id="jobsByStateChart"></canvas>
                    </div>
            
                    <!-- Education Impact -->
                    <div class="card card-full">
                        <h2>Education Level Impact on Salary</h2>
                        <canvas id="educationImpactChart"></canvas>
                    </div>
                </div>
            </div>
            <script>
                let data = [];
                let charts = {};
        
                document.getElementById('fileInput').addEventListener('change', function(e) {
                    const file = e.target.files[0];
                    Papa.parse(file, {
                        header: true,
                        dynamicTyping: true,
                        complete: function(results) {
                            data = results.data;
                            initializeDashboard();
                        }
                    });
                });
        
                function initializeDashboard() {
                    populateFilters();
                    updateDashboard();
                    
                    // Add event listeners for filters
                    document.getElementById('roleFilter').addEventListener('change', updateDashboard);
                    document.getElementById('stateFilter').addEventListener('change', updateDashboard);
                    document.getElementById('experienceFilter').addEventListener('change', updateDashboard);
                }
        
                function populateFilters() {
                    const roles = [...new Set(data.map(item => item.preferred_role))].sort();
                    const states = [...new Set(data.map(item => item.it_state))].sort();
                    
                    populateSelect('roleFilter', roles);
                    populateSelect('stateFilter', states);
                }
        
                function populateSelect(selectId, options) {
                    const select = document.getElementById(selectId);
                    select.innerHTML = '<option value="">All</option>';
                    options.forEach(option => {
                        if (option) {
                            const optionElement = document.createElement('option');
                            optionElement.value = option;
                            optionElement.textContent = option;
                            select.appendChild(optionElement);
                        }
                    });
                }
        
                function updateDashboard() {
                    const filteredData = filterData();
                    updateKPIs(filteredData);
                    updateCharts(filteredData);
                }
        
                function filterData() {
                    return data.filter(item => {
                        const roleFilter = document.getElementById('roleFilter').value;
                        const stateFilter = document.getElementById('stateFilter').value;
                        const experienceFilter = document.getElementById('experienceFilter').value;
                        
                        if (roleFilter && item.preferred_role !== roleFilter) return false;
                        if (stateFilter && item.it_state !== stateFilter) return false;
                        if (experienceFilter) {
                            const exp = item.years_experience;
                            if (experienceFilter === '0-3' && exp > 3) return false;
                            if (experienceFilter === '3-6' && (exp <= 3 || exp > 6)) return false;
                            if (experienceFilter === '6-10' && (exp <= 6 || exp > 10)) return false;
                            if (experienceFilter === '10+' && exp <= 10) return false;
                        }
                        return true;
                    });
                }
        
                function updateKPIs(filteredData) {
                    document.getElementById('totalJobs').textContent = filteredData.length;
                    
                    const avgSalary = filteredData.reduce((sum, item) => sum + item.current_salary, 0) / filteredData.length;
                    document.getElementById('avgSalary').textContent = '$' + Math.round(avgSalary).toLocaleString();
                    
                    const avgExperience = filteredData.reduce((sum, item) => sum + item.years_experience, 0) / filteredData.length;
                    document.getElementById('avgExperience').textContent = avgExperience.toFixed(1);
                }
        
                function updateCharts(filteredData) {
                    createSalaryByRoleChart(filteredData);
                    createTopSkillsChart(filteredData);
                    createExperienceVsSalaryChart(filteredData);
                    createJobsByStateChart(filteredData);
                    createEducationImpactChart(filteredData);
                }
        
                function createSalaryByRoleChart(filteredData) {
                    const ctx = document.getElementById('salaryByRoleChart').getContext('2d');
                    
                    const roleData = {};
                    filteredData.forEach(item => {
                        if (!roleData[item.preferred_role]) {
                            roleData[item.preferred_role] = [];
                        }
                        roleData[item.preferred_role].push(item.current_salary);
                    });
                    
                    const labels = Object.keys(roleData);
                    const averages = labels.map(role => {
                        const salaries = roleData[role];
                        return salaries.reduce((sum, salary) => sum + salary, 0) / salaries.length;
                    });
                    
                    if (charts.salaryByRole) charts.salaryByRole.destroy();
                    
                    charts.salaryByRole = new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: labels,
                            datasets: [{
                                label: 'Average Salary',
                                data: averages,
                                backgroundColor: '#3498db'
                            }]
                        },
                        options: {
                            responsive: true,
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    ticks: {
                                        callback: value => '$' + value.toLocaleString()
                                    }
                                }
                            }
                        }
                    });
                }
        
                function createTopSkillsChart(filteredData) {
                    const ctx = document.getElementById('topSkillsChart').getContext('2d');
                    
                    const skills = {};
                    filteredData.forEach(item => {
                        if (item.technical_skills) {
                            item.technical_skills.split(',').forEach(skill => {
                                skill = skill.trim();
                                skills[skill] = (skills[skill] || 0) + 1;
                            });
                        }
                    });
                    
                    const sortedSkills = Object.entries(skills)
                        .sort((a, b) => b[1] - a[1])
                        .slice(0, 10);
                    
                    if (charts.topSkills) charts.topSkills.destroy();
                    
                    charts.topSkills = new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: sortedSkills.map(s => s[0]),
                            datasets: [{
                                label: 'Frequency',
                                data: sortedSkills.map(s => s[1]),
                                backgroundColor: '#2ecc71'
                            }]
                        },
                        options: {
                            responsive: true,
                            indexAxis: 'y'
                        }
                    });
                }
        
                function createExperienceVsSalaryChart(filteredData) {
                    const ctx = document.getElementById('experienceVsSalaryChart').getContext('2d');
                    
                    if (charts.experienceVsSalary) charts.experienceVsSalary.destroy();
                    
                    charts.experienceVsSalary = new Chart(ctx, {
                        type: 'scatter',
                        data: {
                            datasets: [{
                                label: 'Experience vs Salary',
                                data: filteredData.map(item => ({
                                    x: item.years_experience,
                                    y: item.current_salary
                                })),
                                backgroundColor: '#9b59b6'
                            }]
                        },
                        options: {
                            responsive: true,
                            scales: {
                                x: {
                                    title: {
                                        display: true,
                                        text: 'Years of Experience'
                                    }
                                },
                                y: {
                                    title: {
                                        display: true,
                                        text: 'Salary'
                                    },
                                    ticks: {
                                        callback: value => '$' + value.toLocaleString()
                                    }
                                }
                            }
                        }
                    });
                }
        
                function createJobsByStateChart(filteredData) {
                    const ctx = document.getElementById('jobsByStateChart').getContext('2d');
                    
                    const stateData = {};
                    filteredData.forEach(item => {
                        stateData[item.it_state] = (stateData[item.it_state] || 0) + 1;
                    });
                    
                    const sortedStates = Object.entries(stateData)
                        .sort((a, b) => b[1] - a[1])
                        .slice(0, 10);
                    
                    if (charts.jobsByState) charts.jobsByState.destroy();
                    
                    charts.jobsByState = new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: sortedStates.map(s => s[0]),
                            datasets: [{
                                label: 'Number of Jobs',
                                data: sortedStates.map(s => s[1]),
                                backgroundColor: '#e74c3c'
                            }]
                        },
                        options: {
                            responsive: true,
                            indexAxis: 'y'
                        }
                    });
                }
        
                function createEducationImpactChart(filteredData) {
                    const ctx = document.getElementById('educationImpactChart').getContext('2d');
                    
                    const educationData = {};
                    filteredData.forEach(item => {
                        if (!educationData[item.education_level]) {
                            educationData[item.education_level] = {
                                salaries: [],
                                certified: [],
                                notCertified: []
                            };
                        }
                        educationData[item.education_level].salaries.push(item.current_salary);
                        if (item.has_certifications === 'True') {
                            educationData[item.education_level].certified.push(item.current_salary);
                        } else {
                            educationData[item.education_level].notCertified.push(item.current_salary);
                        }
                    });
                    
                    const labels = Object.keys(educationData);
                    const avgSalaries = labels.map(edu => {
                        const salaries = educationData[edu].salaries;
                        return salaries.reduce((sum, s) => sum + s, 0) / salaries.length;
                    });
                    
                    if (charts.educationImpact) charts.educationImpact.destroy();
                    
                    charts.educationImpact = new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: labels,
                            datasets: [{
                                label: 'Average Salary',
                                data: avgSalaries,
                                backgroundColor: '#f39c12'
                            }]
                        },
                        options: {
                            responsive: true,
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    ticks: {
                                        callback: value => '$' + value.toLocaleString()
                                    }
                                }
                            }
                        }
                    });
                }
            </script>    
        </div>
                
            

        <!-- Career Roadmap Content -->
        <div id="roadmap-content" class="content">
            <div class="section-header">
                <h2>Career Roadmap</h2>  
            </div>

            <div class="roadmap-container">
                <div class="roadmap-sidebar">
                    <h3>Career Path</h3>
                    <div id="career-path-container">
                        <!-- Career path steps will be populated here -->
                    </div>
                </div>

                <div class="roadmap-content">
                    <div class="roadmap-header">
                        <h3>Skill Development Timeline</h3>
                        <h3>
                            Career Path for
                            <span id="career-path-role">Your Target Role</span>
                        </h3>
                        <select id="role-selector">
                            <option value="">Select a role</option>
                            <option value="frontend">Frontend Developer</option>
                            <option value="backend">Backend Developer</option>
                            <option value="fullstack">Full Stack Developer</option>
                            <option value="devops">DevOps Engineer</option>
                            <option value="data">Data Scientist</option>
                            <option value="mobile">Mobile App Developer</option>
                            <option value="ui/ux">UI/UX Designer</option>
                        </select>

                        <select id="timeline-filter">
                            <option value="6">Next 6 months</option>
                            <option value="12" selected>Next 12 months</option>
                            <option value="18">Next 18 months</option>
                            <option value="24">Next 24 months</option>
                        </select>
                    </div>

                    <div id="roadmap-timeline" class="roadmap-timeline">
                        <!-- Roadmap timeline items will be populated here -->
                    </div>
                </div>
            </div>

            <div class="section-header">
                <h2>Experience & Salary Relationship</h2>
            </div>

            <div class="chart-card">
                <div class="chart-header">Experience Impact on Salary</div>
                <div class="chart-body">
                    <canvas id="experience-salary-chart"></canvas>
                </div>
            </div>
        </div>

        <!-- Profile Content -->
        <div id="profile-content" class="content">
            <div class="profile-header">
                <div class="profile-photo">
                    <i>TP</i>
                </div>

                <div class="profile-info">
                    <h2 id="profile-name">IT Professional</h2>
                    <p id="profile-headline">
                        Complete your profile to see personalized data
                    </p>
                    <div class="profile-details">
                        <span><i class="fas fa-map-marker-alt"></i>
                            <span id="location-value">Not specified</span></span>
                        <span><i class="fas fa-graduation-cap"></i>
                            <span id="education-value">Not specified</span></span>
                    </div>
                </div>

                <div class="profile-actions">
                    <button id="edit-profile-btn" class="btn-primary">
                        <i class="fas fa-user-edit"></i> Edit Profile
                    </button>
                    <button id="export-profile-btn" class="btn-secondary">
                        <i class="fas fa-file-export"></i> Export
                    </button>
                </div>
            </div>

            <div class="profile-sections">
                <div class="profile-nav">
                    <div class="profile-nav-item active" data-section="skills">
                        Skills
                    </div>
                    <div class="profile-nav-item" data-section="experience">
                        Experience
                    </div>
                    <div class="profile-nav-item" data-section="domains">Domains</div>

                    <div class="profile-nav-item" data-section="analytics">
                        Analytics
                    </div>
                </div>

                <div id="skills-section" class="profile-section-content">
                    <div class="section-header">
                        <h3>Technical Skills</h3>
                        <button id="add-skill-btn" class="add-btn">
                            <i class="fas fa-plus"></i> Add Skill
                        </button>
                    </div>

                    <div class="skills-list" id="skills-container">
                        <!-- Skills will be populated here -->
                    </div>
                </div>

                <div id="experience-section" class="profile-section-content hidden">
                    <div class="section-header">
                        <h3>Experience Overview</h3>
                    </div>

                    <div class="experience-info">
                        <div class="experience-stat">
                            <h4>Years of Experience</h4>
                            <div class="stat-value" id="years-experience-value">
                                5.5 years
                            </div>
                        </div>

                        <div class="experience-stat">
                            <h4>Current Salary</h4>
                            <div class="stat-value" id="current-salary-value">$85,000</div>
                        </div>

                        <div class="experience-stat">
                            <h4>Experience Level</h4>
                            <div class="stat-value">Mid-Level</div>
                        </div>
                    </div>

                    <div class="section-header">
                        <h3>Work History</h3>
                        <button id="add-experience-btn" class="add-btn">
                            <i class="fas fa-plus"></i> Add Experience
                        </button>
                    </div>

                    <div class="experience-timeline" id="experience-timeline">
                        <!-- Experience timeline will be populated here -->
                    </div>
                </div>

                <div id="domains-section" class="profile-section-content hidden">
                    <div class="section-header">
                        <h3>Industry Domains</h3>
                        <button id="add-domain-btn" class="add-btn">
                            <i class="fas fa-plus"></i> Add Domain
                        </button>
                    </div>

                    <div class="domains-container" id="domains-container">
                        <!-- Domains will be populated here -->
                    </div>

                    <div class="domains-chart-container">
                        <canvas id="domains-chart"></canvas>
                    </div>
                </div>

                <div id="analytics-section" class="profile-section-content hidden">
                    <div class="section-header">
                        <h3>Profile Analytics</h3>
                    </div>

                    <div class="analytics-container">
                        <div class="analytics-card">
                            <h4>Profile Strength</h4>
                            <div class="progress-container">
                                <div class="progress-bar" id="profile-strength-bar" style="width: 65%"></div>
                                <div class="progress-label" id="profile-strength-label">
                                    65%
                                </div>
                            </div>
                            <ul class="analytics-suggestions" id="profile-strength-suggestions">
                                <!-- Suggestions will be populated here -->
                            </ul>
                        </div>

                        <div class="analytics-card">
                            <h4>Market Competitiveness</h4>
                            <div class="progress-container">
                                <div class="progress-bar" id="market-competitiveness-bar" style="width: 78%"></div>
                                <div class="progress-label" id="market-competitiveness-label">
                                    78%
                                </div>
                            </div>
                            <ul class="analytics-suggestions" id="market-competitiveness-suggestions">
                                <!-- Suggestions will be populated here -->
                            </ul>
                        </div>

                        <div class="analytics-card">
                            <h4>Growth Potential</h4>
                            <div class="progress-container">
                                <div class="progress-bar" id="growth-potential-bar" style="width: 82%"></div>
                                <div class="progress-label" id="growth-potential-label">
                                    82%
                                </div>
                            </div>
                            <ul class="analytics-suggestions" id="growth-potential-suggestions">
                                <!-- Suggestions will be populated here -->
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <!-- Profile Modal -->
    <div id="profile-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Your Profile</h2>
            <div class="form-tabs">
                <div class="form-tab active" data-tab="basic-info">Basic Info</div>
                <div class="form-tab" data-tab="skills-experience">
                    Skills & Experience
                </div>
            </div>

            <!-- Updated Profile Form HTML -->
            <!-- Updated Profile Form HTML -->
            <!-- Updated Profile Form HTML -->
            <form id="profile-form">
                <!-- Basic Info Tab -->
                <div id="basic-info-tab" class="form-tab-content active">
                    <div class="form-group">
                        <label for="user-name-input">Full Name <span class="required">*</span></label>
                        <input type="text" id="user-name-input" required placeholder="Your name" />
                    </div>

                    <div class="form-group">
                        <label for="user-email">Email <span class="required">*</span></label>
                        <input type="email" id="user-email" required placeholder="Your email" />
                    </div>

                    <div class="form-group">
                        <label for="user-location-input">Location</label>
                        <select id="user-location-input">
                            <option value="">Select a location</option>
                            <option value="Arizona">Arizona</option>
                            <option value="California">California</option>
                            <option value="Colorado">Colorado</option>
                            <option value="Florida">Florida</option>
                            <option value="Georgia">Georgia</option>
                            <option value="Illinois">Illinois</option>
                            <option value="Massachusetts">Massachusetts</option>
                            <option value="New York">New York</option>
                            <option value="North Carolina">North Carolina</option>
                            <option value="Oregon">Oregon</option>
                            <option value="Texas">Texas</option>
                            <option value="Utah">Utah</option>
                            <option value="Virginia">Virginia</option>
                            <option value="Washington">Washington</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="user-education">Education Level</label>
                        <select id="user-education">
                            <option value="">Select Education Level</option>
                            <option value="Bachelors">Bachelor's Degree</option>
                            <option value="Masters">Master's Degree</option>
                            <option value="PhD">PhD or Doctorate</option>
                        </select>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn-secondary">Cancel</button>
                        <button type="button" class="btn-primary next-tab" data-next="skills-experience">
                            Next <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>

                <!-- Skills & Experience Tab -->
                <div id="skills-experience-tab" class="form-tab-content">
                    <div class="form-group">
                        <label for="user-skills">Your Skills (comma separated)</label>
                        <input type="text" id="user-skills" placeholder="e.g., JavaScript, React, Node.js" />
                    </div>

                    <div class="form-group">
                        <label for="user-experience">Years of Experience</label>
                        <input type="number" id="user-experience" step="0.5" min="0" placeholder="e.g., 3.5" />
                    </div>

                    <div class="form-group">
                        <label for="user-current-salary">Current Salary ($)</label>
                        <input type="number" id="user-current-salary" step="100" min="5000" placeholder="e.g., 85000" />
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn-secondary prev-tab" data-prev="basic-info">
                            <i class="fas fa-arrow-left"></i> Previous
                        </button>
                        <button type="submit" class="btn-primary submit-profile">
                            Save Profile <i class="fas fa-check"></i>
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- Job Details Modal -->
    <div id="job-details-modal" class="modal">
        <div class="modal-content job-details-content">
            <span class="close">&times;</span>
            <div id="job-details-container">
                <!-- Job details will be populated here -->
            </div>
        </div>
    </div>

    <!-- Notification Container -->
    <div id="notification-container"></div>

    <!-- Hidden file input for CSV import -->
    <input type="file" id="csv-file-input" accept=".csv" style="display: none" />

    <!-- Core libraries and utilities first -->
    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>

    <!-- Storage management -->
    <script src="js/storage-manager.js"></script>
    <!-- Storage Implementation -->
    <script src="js/StorageService.js"></script>
    <script src="js/profile-handler.js"></script>
    <script src="js/profile-store.js"></script>
    <script src="js/profile-integration.js"></script>

    <!-- Initialize App -->

    <!-- Data handling and API -->
    <script src="js/data.js"></script>
    <script src="js/data/job_data.js"></script>
    <script src="js/api.js"></script>

    <!-- Core application features -->
    <!-- Initialize App -->
    <script src="js/matching.js"></script>
    <script src="js/dashboard-metrics-update.js"></script>
    <script src="js/charts.js"></script>
    <script src="js/roadmap.js"></script>
    <script src="js/role-roadmaps.js"></script>
    <script src="js/career-roadmap-fix.js"></script>
    <script src="js/roadmap-component-fix.js"></script>
    <script src="js/roadmap-filter-fix.js"></script>
    <script src="js/profile.js"></script>
    <script src="js/resume-processor.js"></script>
    <script src="js/skill-analysis-integration.js"></script>
    <script src="standalone-career-roadmap.js"></script>
    <script src="standalone-profile.js"></script>
    

    <!-- UI and form handling -->
    <script src="js/ui.js"></script>
    <script src="js/ui-dashboard-integration.js"></script>
    
    <script src="js/profile-modifications.js"></script>
    <script src="js/profile-form-handler.js"></script>
    
    
    <script src="js/form-validation-fixes.js"></script>


    <!-- Main application (should be loaded last) -->
    <script src="js/app.js"></script>

</body>

</html>